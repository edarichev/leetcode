; полезные фрагменты

; abs(x)
; для нахождения модуля можно использовать такие варианты:
        mov     rcx, rbx        ; сохраним текущее значение rbx
        neg     rbx
        cmovl   rbx, rcx        ; переслать данные из rcx->rbx, если предыдущее значение rbx меньше последнего (SF<>OF)
        mov     [len], rbx
        
        ; ещё способ: abs(x) = (x XOR y) - y, где y = x >> 31 (или 63, смотря какой размер числа)
        mov     rcx, rbx        ; y
        shr     rcx, 63
        mov     rax, rbx        ; <- x
        xor     rax, rcx        ; x XOR y
        sub     rax, rcx
        mov     [len], rax
; обменять два xmm регистра
        pxor    xmm5, xmm6
        pxor    xmm6, xmm5
        pxor    xmm5, xmm6
; целое в xmm:
        mov     rax, 13
        cvtsi2sd xmm0, rax      ; xmm0 <- 13
; округление:
        cvttsd2si rax, xmm0     ; округление с усечением, MXCSR не используется
; расширить регистр:
        movsx   rax, word [N]
